<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Zza3iim Shop</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background:#0b1420;
      color:#fff;
      margin:0;
      padding:20px;
    }
    .tabs {
      display: flex;
      margin-bottom: 20px;
    }
    .tab {
      flex:1;
      padding:12px;
      text-align:center;
      background:#111b2a;
      border:1px solid #2f6df6;
      cursor:pointer;
      transition:.3s;
    }
    .tab.active {
      background:#2f6df6;
    }
    .grid {
      display:grid;
      grid-template-columns: repeat(auto-fill,minmax(160px,1fr));
      gap:15px;
    }
    .card {
      background:#111b2a;
      padding:15px;
      border-radius:12px;
      text-align:center;
      box-shadow:0 0 10px rgba(0,0,0,.4);
      position:relative;
    }
    .pill {
      position:absolute;
      top:10px; left:10px;
      background:#2f6df6;
      padding:4px 8px;
      border-radius:20px;
      font-size:12px;
    }
    .price { margin:8px 0; font-weight:bold; color:#1bb1ff; }
    .btn {
      background:#2f6df6;
      border:none;
      padding:8px 14px;
      border-radius:8px;
      cursor:pointer;
      color:#fff;
      margin:5px;
      transition:.3s;
    }
    .btn:hover { background:#1bb1ff; }
    .btn-group {
      display:flex;
      justify-content:center;
      gap:5px;
    }
  </style>
</head>
<body>
  <h1>Zza3iim Shop</h1>
  <div class="tabs">
    <div class="tab active" onclick="showTab('diamonds')">Diamonds</div>
    <div class="tab" onclick="showTab('shop')">Shop</div>
  </div>

  <!-- Diamonds Grid -->
  <div id="diamonds" class="grid"></div>

  <!-- Shop Grid -->
  <div id="shop" class="grid" style="display:none"></div>

  <!-- EmailJS -->
  <script src="https://cdn.jsdelivr.net/npm/emailjs-com@2/dist/email.min.js"></script>
  <script>
    (function(){
      emailjs.init("YOUR_PUBLIC_KEY"); // ⚠️ حط الـ Public Key بتاعك هنا
    })();
  </script>

  <script>
    /* ================ DATA ==================== */
    // Diamonds
    const DIAMONDS = [
      {title:'100 Diamonds',  price:55,  img:"100d.jpg"},
      {title:'210 Diamonds',  price:110, img:"210d.jpg"},
      {title:'310 Diamonds',  price:160, img:"310d.jpg"},
      {title:'520 Diamonds',  price:260, img:"520d.jpg"},
      {title:'1060 Diamonds', price:510, img:"1060d.jpg"},
      {title:'2200 Diamonds', price:1010,img:"2200d.jpg"},
    ];

    // Shop Items
    const SHOP_ITEMS = [
      {title:'Level Offer 1', price:150, tag:'Pass', img:"level1.jpg"},
      {title:'Level Offer 2', price:300, tag:'Pass', img:"level2.jpg"},
      {title:'Level Offer 3', price:450, tag:'Pass', img:"level3.jpg"},
      {title:'Weekly Membership', price:100, tag:'Membership', img:"1w.jpg"},
      {title:'Monthly Membership', price:500, tag:'Membership', img:"1m.jpg"},
    ];

    /* ================ RENDER ================== */
    const diamondsGrid = document.getElementById('diamonds');
    const shopGrid  = document.getElementById('shop');

    const makeCard = (item) => {
      const card = document.createElement('div');
      card.className = 'card';
      let buttons = "";

      if(item.title.includes("Level Offer")){
        buttons = `
          <div class="btn-group">
            <button class="btn" onclick="sendOrder('${item.title}', '${item.price}', 'Buy')">Buy</button>
            <button class="btn" onclick="sendOrder('${item.title}', '${item.price}', 'Buy All')">Buy All</button>
          </div>`;
      }else{
        buttons = `<button class="btn" onclick="sendOrder('${item.title}', '${item.price}', 'Buy')">Buy</button>`;
      }

      card.innerHTML = `
        ${item.img ? `<img src="${item.img}" alt="${item.title}" style="width:100%;border-radius:12px;margin-bottom:10px">` : ``}
        ${item.tag ? `<span class="pill">${item.tag}</span>` : ``}
        <h3>${item.title}</h3>
        <div class="price">${item.price} EGP</div>
        ${buttons}
      `;
      return card;
    };

    DIAMONDS.forEach(i=>{
      diamondsGrid.appendChild(makeCard(i));
    });

    SHOP_ITEMS.forEach(i=>{
      shopGrid.appendChild(makeCard(i));
    });

    /* ================ TAB SWITCH =============== */
    function showTab(tab){
      document.getElementById('diamonds').style.display = (tab==='diamonds') ? 'grid':'none';
      document.getElementById('shop').style.display     = (tab==='shop') ? 'grid':'none';

      document.querySelectorAll('.tab').forEach(t=>t.classList.remove('active'));
      document.querySelector(`.tab:nth-child(${tab==='diamonds'?1:2})`).classList.add('active');
    }

    /* ================ EMAILJS ORDER ============ */
    function sendOrder(itemTitle, itemPrice, type){
      emailjs.send("YOUR_SERVICE_ID", "YOUR_TEMPLATE_ID", {
        item_name: itemTitle,
        item_price: itemPrice + " EGP",
        order_type: type
      }).then(()=>{
        alert("✅ تم إرسال الأوردر بنجاح!");
      }).catch((err)=>{
        alert("❌ حصل خطأ: " + JSON.stringify(err));
      });
    }
  </script>
</body>
</html>
